extends layout

block content
  nav.navbar
    div.logo
      a(href="/") My Shop
    ul.nav-links
      li
        a(href="/catalog/items") Products
      li
        a(href="/catalog/categories") Categories
      li
        a(href="/catalog/cart") Cart 
        span#cartCount #{count}

      li
        a(href="/login") Login
  if (products && products.length > 0 || products != null)
    .cart-items
      each product in products
        .cart-item
          img.product-image(src= product.item.image, alt=product.item.title)
          .cart-item-info 
            strong.product-title= product.item.title
            strong.product-price $#{product.item.price}
            .product-actions
              a.btn.btn-reduce(href=`cart/reduce/${product.item._id}`) Reduce by 1
              a.btn.btn-remove(href=`cart/remove/${product.item._id}`) Remove All
            span.product-quantity Quantity: #{product.qty}
          
    .cart-total
      strong Total: #{totalPrice}
    .cart-buttons
      a.btn.btn-checkout(href='/checkout') Checkout
  else
    .empty-cart
      img(src='/icons/empty-cart.svg', alt='Empty cart')
      h2 Oops, your cart is empty
